<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡é€šç‰ˆï¼šçˆ±æƒ…èµ„æºå¹³è¡¡å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin: 0 auto; height: 380px; }
        input[type=range] { -webkit-appearance: none; appearance: none; cursor: pointer; border-radius: 999px; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 22px; width: 22px;
            border-radius: 50%; background: white;
            border: 3px solid currentColor; box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            margin-top: -8px;
        }
        #passion { accent-color: #ef4444; color: #ef4444; }
        #intimacy { accent-color: #3b82f6; color: #3b82f6; }
        #commitment { accent-color: #10b981; color: #10b981; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-pink-50 text-stone-800">

    <main class="container mx-auto p-4 md:p-8 max-w-5xl min-h-screen flex flex-col justify-center">
        <header class="text-center my-6">
            <h1 class="text-4xl md:text-5xl font-bold text-rose-600 mb-2">ğŸ’˜ çˆ±æƒ…èƒ½é‡å¹³è¡¡å™¨</h1>
            <p class="text-stone-500 italic">â€œçˆ±æ˜¯èµ„æºçš„åˆç†åˆ†é…ï¼Œæ¯ä¸ªç»´åº¦æœ€é«˜10åˆ†ï¼Œæ€»åˆ†ä¸Šé™15åˆ†â€</p>
            <div class="inline-block mt-4 bg-white border-2 border-rose-200 text-rose-600 px-6 py-2 rounded-full font-bold shadow-sm">
                å½“å‰å·²åˆ†é…èƒ½é‡ï¼š<span id="current-total">0</span> / 15
            </div>
        </header>

        <section class="bg-white p-6 md:p-10 rounded-3xl shadow-xl border-4 border-rose-100">
            <div class="grid md:grid-cols-2 gap-10 items-center">
                
                <div class="space-y-8">
                    <div class="bg-red-50 p-4 rounded-2xl border border-red-100 transition-all">
                        <label class="block font-bold text-red-600 flex justify-between mb-2">
                            <span>ğŸ”¥ æ¿€æƒ… Passion</span>
                            <span id="p-val" class="bg-red-500 text-white px-3 rounded-full">0</span>
                        </label>
                        <input type="range" id="passion" min="0" max="10" value="0" class="w-full h-3 bg-red-100 rounded-lg">
                    </div>

                    <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 transition-all">
                        <label class="block font-bold text-blue-600 flex justify-between mb-2">
                            <span>ğŸ˜Š äº²å¯† Intimacy</span>
                            <span id="i-val" class="bg-blue-500 text-white px-3 rounded-full">0</span>
                        </label>
                        <input type="range" id="intimacy" min="0" max="10" value="0" class="w-full h-3 bg-blue-100 rounded-lg">
                    </div>

                    <div class="bg-green-50 p-4 rounded-2xl border border-green-100 transition-all">
                        <label class="block font-bold text-green-600 flex justify-between mb-2">
                            <span>âš–ï¸ æ‰¿è¯º Commitment</span>
                            <span id="c-val" class="bg-green-500 text-white px-3 rounded-full">0</span>
                        </label>
                        <input type="range" id="commitment" min="0" max="10" value="0" class="w-full h-3 bg-green-100 rounded-lg">
                    </div>
                  
                    <button id="showBtn" class="bg-rose-500 text-white font-bold py-4 px-6 rounded-2xl w-full text-xl shadow-lg hover:bg-rose-600 active:scale-95 transition-all">
                        ç”Ÿæˆçˆ±æƒ…è¯Šæ–­æŠ¥å‘Š âœ¨
                    </button>

                    <div id="resultBox" class="bg-rose-50 p-6 rounded-2xl border-2 border-dashed border-rose-200 hidden animate-fade-in">
                        <h3 class="text-2xl font-bold text-rose-600 mb-2" id="res-title"></h3>
                        <p class="text-stone-600 text-sm leading-relaxed mb-4" id="res-desc"></p>
                        <h4 class="text-md font-bold text-stone-700 bg-white inline-block px-3 py-1 rounded-lg" id="res-eg"></h4>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="loveChart"></canvas>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sliders = { p: document.getElementById('passion'), i: document.getElementById('intimacy'), c: document.getElementById('commitment') };
            const labels = { p: document.getElementById('p-val'), i: document.getElementById('i-val'), c: document.getElementById('c-val') };
            const totalDisplay = document.getElementById('current-total');
            const MAX_TOTAL = 15;

            // çˆ±æƒ…ç±»å‹æ•°æ®
            const loveData = [
                { type: "å®Œç¾å¼çˆ±æƒ… ğŸ’–", eg: "æ¨¡èŒƒå¤«å¦»", desc: "å“‡ï¼ä½ ä»¬æ‹¥æœ‰äº†å…¨éƒ¨ã€‚æ¿€æƒ…ã€äº²å¯†å’Œæ‰¿è¯ºäº¤ç»‡æˆæœ€å®Œç¾çš„å¹³è¡¡ç‚¹ã€‚" },
                { type: "ä¼´ä¾£å¼çˆ±æƒ… â˜•", eg: "è€å¤«è€å¦»", desc: "å¹³æ·¡ä¸­è§çœŸæƒ…ï¼Œè™½ç„¶æ²¡æœ‰äº†çƒˆç«èˆ¬çš„å†²åŠ¨ï¼Œä½†å®ˆæŠ¤å·²æˆä¸ºæœ¬èƒ½ã€‚" },
                { type: "æµªæ¼«å¼çˆ±æƒ… ğŸŒ¹", eg: "çƒ­æ‹æƒ…ä¾£", desc: "æ­¤åˆ»çœ¼ä¸­åªæœ‰å½¼æ­¤ï¼Œå“ªæ€•æœªæ¥å……æ»¡å˜æ•°ï¼Œä¹Ÿè¦äº«å—å½“ä¸‹çš„å¿ƒåŠ¨ã€‚" },
                { type: "æ„šè ¢å¼çˆ±æƒ… âš¡", eg: "é—ªå©š/é—ªæ‹", desc: "ä»…é èª“è¨€å’Œæ¿€æƒ…æ”¯æ’‘ï¼Œè¿˜æ²¡æ¥å¾—åŠå»ºç«‹èµ·æ·±åšçš„çµé­‚å…±é¸£ã€‚" },
                { type: "ç©ºæ´å¼çˆ±æƒ… ğŸ§±", eg: "è´£ä»»å©šå§»", desc: "çˆ±å·²éšé£å»ï¼Œç•™ä¸‹çš„åªæœ‰å¯¹æ‰¿è¯ºçš„åšå®ˆå’Œä¹ æƒ¯æ€§çš„è´£ä»»ã€‚" },
                { type: "è¿·æ‹å¼çˆ±æƒ… ğŸ­", eg: "å•ç›¸æ€/å¶åƒå´‡æ‹œ", desc: "è¿™æ›´åƒæ˜¯ä¸€åœºåä¸½çš„å¹»è§‰ï¼Œå¼ºçƒˆçš„å¸å¼•åŠ›è®©ä½ æœ‰äº›çœ©æ™•ã€‚" },
                { type: "å–œæ¬¢å¼çˆ±æƒ… ğŸ¤", eg: "çµé­‚çŸ¥å·±", desc: "ä½ ä»¬æ˜¯æœ€æ‡‚å½¼æ­¤çš„äººï¼Œåªæ˜¯å°‘äº†ä¸€ç‚¹å¿ƒè·³åŠ é€Ÿçš„æ„Ÿè§‰ã€‚" },
                { type: "éçˆ± ğŸƒ", eg: "æ³›æ³›ä¹‹äº¤", desc: "ç”Ÿæ´»ä¸­çš„è¿‡å®¢ï¼Œæ²¡æœ‰æ·±åˆ»çš„è”ç»“ï¼Œä¹Ÿæ²¡æœ‰æ¿€çƒˆçš„ç«èŠ±ã€‚" }
            ];

            // åˆå§‹åŒ–é›·è¾¾å›¾
            const ctx = document.getElementById('loveChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ğŸ”¥ æ¿€æƒ…', 'ğŸ˜Š äº²å¯†', 'âš–ï¸ æ‰¿è¯º'],
                    datasets: [{
                        data: [0, 0, 0], // åˆå§‹å…¨ä¸º0
                        backgroundColor: 'rgba(244, 63, 94, 0.2)',
                        borderColor: '#f43f5e',
                        borderWidth: 4,
                        pointRadius: 6,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#f43f5e',
                        pointBorderWidth: 3,
                        tension: 0.4 // åœ†æ¶¦çº¿æ¡
                    }]
                },
                options: {
                    scales: {
                        r: {
                            min: 0, max: 10,
                            beginAtZero: true,
                            grid: { color: '#fee2e2' },
                            angleLines: { color: '#fecdd3' },
                            ticks: { display: false },
                            pointLabels: { font: { size: 16, weight: 'bold' }, color: '#e11d48' }
                        }
                    },
                    plugins: { legend: { display: false } },
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // æ ¸å¿ƒèµ„æºé€»è¾‘
            function updateAll(changedKey) {
                let p = parseInt(sliders.p.value);
                let i = parseInt(sliders.i.value);
                let c = parseInt(sliders.c.value);

                // å¦‚æœæ€»åˆ†è¶…æ ‡ï¼ŒåŠ¨æ€æŒ¤å‹å…¶ä»–æ»‘å—
                while (p + i + c > MAX_TOTAL) {
                    if (changedKey === 'p') { if (i > 0) i--; else if (c > 0) c--; }
                    else if (changedKey === 'i') { if (p > 0) p--; else if (c > 0) c--; }
                    else if (changedKey === 'c') { if (p > 0) p--; else if (i > 0) i--; }
                }

                // åŒæ­¥ UI
                sliders.p.value = p; sliders.i.value = i; sliders.c.value = c;
                labels.p.textContent = p; labels.i.textContent = i; labels.c.textContent = c;
                totalDisplay.textContent = p + i + c;

                // æ›´æ–°å›¾è¡¨
                myChart.data.datasets[0].data = [p, i, c];
                myChart.update('none');
            }

            // ç›‘å¬æ»‘å—
            Object.keys(sliders).forEach(key => {
                sliders[key].addEventListener('input', () => updateAll(key));
            });

            // ç”Ÿæˆç»“æœ
            document.getElementById('showBtn').addEventListener('click', () => {
                const pVal = parseInt(sliders.p.value);
                const iVal = parseInt(sliders.i.value);
                const cVal = parseInt(sliders.c.value);

                if (pVal + iVal + cVal === 0) {
                    alert("è¯·å…ˆåˆ†é…ä¸€ç‚¹çˆ±æƒ…èƒ½é‡å§ï¼");
                    return;
                }

                const p = pVal >= 5;
                const i = iVal >= 5;
                const c = cVal >= 5;
                
                let res;
                if (p && i && c) res = loveData[0];
                else if (!p && i && c) res = loveData[1];
                else if (p && i && !c) res = loveData[2];
                else if (p && !i && c) res = loveData[3];
                else if (!p && !i && c) res = loveData[4];
                else if (p && !i && !c) res = loveData[5];
                else if (!p && i && !c) res = loveData[6];
                else res = loveData[7];

                document.getElementById('res-title').textContent = res.type;
                document.getElementById('res-desc').textContent = res.desc;
                document.getElementById('res-eg').textContent = "ä¾‹å¦‚ï¼š" + res.eg;
                
                const box = document.getElementById('resultBox');
                box.classList.remove('hidden');
                box.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>